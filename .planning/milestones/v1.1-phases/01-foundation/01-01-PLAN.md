---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - global.json
  - DebuggerNetMcp.sln
  - src/DebuggerNetMcp.Core/DebuggerNetMcp.Core.csproj
  - src/DebuggerNetMcp.Mcp/DebuggerNetMcp.Mcp.csproj
  - tests/DebuggerNetMcp.Tests/DebuggerNetMcp.Tests.csproj
autonomous: true
requirements:
  - INFRA-01
  - INFRA-02
  - INFRA-03

must_haves:
  truths:
    - "No Python files remain in the repository (src/, pyproject.toml, uv.lock, test_*.py all gone)"
    - "dotnet build DebuggerNetMcp.sln completes without errors"
    - "dotnet sln list shows exactly 3 managed projects (Core, Mcp, Tests)"
    - "global.json pins SDK 10.0.0 with rollForward latestMinor"
    - "Mcp project has ProjectReference to Core; Tests project has ProjectReference to Core"
  artifacts:
    - path: "global.json"
      provides: "SDK version pin"
      contains: '"version": "10.0.0"'
    - path: "DebuggerNetMcp.sln"
      provides: "Solution file holding 3 managed projects"
    - path: "src/DebuggerNetMcp.Core/DebuggerNetMcp.Core.csproj"
      provides: "Core class library project"
    - path: "src/DebuggerNetMcp.Mcp/DebuggerNetMcp.Mcp.csproj"
      provides: "MCP server console app project"
    - path: "tests/DebuggerNetMcp.Tests/DebuggerNetMcp.Tests.csproj"
      provides: "xUnit test project"
  key_links:
    - from: "src/DebuggerNetMcp.Mcp/DebuggerNetMcp.Mcp.csproj"
      to: "src/DebuggerNetMcp.Core/DebuggerNetMcp.Core.csproj"
      via: "ProjectReference"
      pattern: "ProjectReference.*Core"
    - from: "tests/DebuggerNetMcp.Tests/DebuggerNetMcp.Tests.csproj"
      to: "src/DebuggerNetMcp.Core/DebuggerNetMcp.Core.csproj"
      via: "ProjectReference"
      pattern: "ProjectReference.*Core"
---

<objective>
Wipe all Python artifacts from the repository and establish the C# solution scaffold with correct project structure.

Purpose: Creates the clean foundation from which all subsequent C# phases build. Python files must be gone before dotnet new recreates the src/ directory tree.
Output: global.json, DebuggerNetMcp.sln, three .csproj files, verified with dotnet build.
</objective>

<execution_context>
@/home/eduardo/.claude/get-shit-done/workflows/execute-plan.md
@/home/eduardo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete Python artifacts and unregister old MCP</name>
  <files>
    src/debugger_net_mcp/ (deleted)
    pyproject.toml (deleted)
    uv.lock (deleted)
    test_dap_minimal.py (deleted)
    test_dap_protocol.py (deleted)
    test_dap_raw.py (deleted)
    test_integration.py (deleted)
  </files>
  <action>
    Remove all Python artifacts from the repo in one atomic step:

    ```bash
    cd /home/eduardo/Projects/DebuggerNetMcp

    # Remove the registered MCP entry for the Python version (idempotent)
    ~/.local/bin/claude mcp remove debugger-net -s user 2>/dev/null || true

    # Remove Python source tree and tooling files (all tracked by git)
    git rm -r src/debugger_net_mcp/
    git rm pyproject.toml uv.lock
    git rm test_dap_minimal.py test_dap_protocol.py test_dap_raw.py test_integration.py

    # Verify nothing Python-related remains (should be empty)
    find . -name "*.py" -not -path "./.git/*" -not -path "./.planning/*"
    ```

    The `src/` directory itself will be removed along with its contents (git rm -r handles this). The directory will be recreated by Task 2 via `dotnet new -o src/...`.

    Do NOT remove README.md, LICENSE, or .planning/ contents.

    Commit with: `git commit -m "chore(01-01): remove Python codebase and MCP registration"`
  </action>
  <verify>
    ```bash
    # No Python files should remain
    find /home/eduardo/Projects/DebuggerNetMcp -name "*.py" -not -path "*/.git/*" -not -path "*/.planning/*"
    # Output should be empty

    # No pyproject.toml or uv.lock
    ls /home/eduardo/Projects/DebuggerNetMcp/pyproject.toml 2>&1
    # Expected: No such file or directory

    git status
    # Should show staged deletions (if not yet committed) or clean working tree
    ```
  </verify>
  <done>All Python files deleted. `find . -name "*.py"` (excluding .git and .planning) returns nothing. `pyproject.toml` and `uv.lock` do not exist.</done>
</task>

<task type="auto">
  <name>Task 2: Scaffold .NET 10 solution with global.json and project references</name>
  <files>
    global.json
    DebuggerNetMcp.sln
    src/DebuggerNetMcp.Core/DebuggerNetMcp.Core.csproj
    src/DebuggerNetMcp.Mcp/DebuggerNetMcp.Mcp.csproj
    tests/DebuggerNetMcp.Tests/DebuggerNetMcp.Tests.csproj
  </files>
  <action>
    Run the following sequence from the repo root. Each command must succeed before the next:

    ```bash
    cd /home/eduardo/Projects/DebuggerNetMcp

    # 1. Write global.json to pin SDK (INFRA-03)
    cat > global.json << 'EOF'
    {
      "sdk": {
        "version": "10.0.0",
        "rollForward": "latestMinor"
      }
    }
    EOF

    # 2. Create solution file
    dotnet new sln -n DebuggerNetMcp

    # 3. Create three managed projects (all default to net10.0 with SDK 10.0.100)
    dotnet new classlib -n DebuggerNetMcp.Core -o src/DebuggerNetMcp.Core
    dotnet new console  -n DebuggerNetMcp.Mcp  -o src/DebuggerNetMcp.Mcp
    dotnet new xunit    -n DebuggerNetMcp.Tests -o tests/DebuggerNetMcp.Tests

    # 4. Add all three projects to the solution (NOT the native/ CMake project)
    dotnet sln add src/DebuggerNetMcp.Core/DebuggerNetMcp.Core.csproj
    dotnet sln add src/DebuggerNetMcp.Mcp/DebuggerNetMcp.Mcp.csproj
    dotnet sln add tests/DebuggerNetMcp.Tests/DebuggerNetMcp.Tests.csproj

    # 5. Wire project references
    dotnet add src/DebuggerNetMcp.Mcp/DebuggerNetMcp.Mcp.csproj reference src/DebuggerNetMcp.Core/DebuggerNetMcp.Core.csproj
    dotnet add tests/DebuggerNetMcp.Tests/DebuggerNetMcp.Tests.csproj reference src/DebuggerNetMcp.Core/DebuggerNetMcp.Core.csproj

    # 6. Verify solution structure
    dotnet sln list
    # Must show all 3 .csproj files

    # 7. Build to confirm everything compiles
    dotnet build DebuggerNetMcp.sln
    ```

    Important: Do NOT add the native/ CMake directory to the solution. The .sln file holds only the 3 managed C# projects.

    Commit with: `git commit -m "feat(01-01): scaffold .NET 10 solution with Core, Mcp, Tests projects"`
  </action>
  <verify>
    ```bash
    cd /home/eduardo/Projects/DebuggerNetMcp

    # Verify global.json content
    cat global.json
    # Must contain "version": "10.0.0" and "rollForward": "latestMinor"

    # Verify solution has exactly 3 projects
    dotnet sln list
    # Must show:
    # src/DebuggerNetMcp.Core/DebuggerNetMcp.Core.csproj
    # src/DebuggerNetMcp.Mcp/DebuggerNetMcp.Mcp.csproj
    # tests/DebuggerNetMcp.Tests/DebuggerNetMcp.Tests.csproj

    # Verify project references
    grep -r "ProjectReference" src/DebuggerNetMcp.Mcp/DebuggerNetMcp.Mcp.csproj
    # Must reference Core
    grep -r "ProjectReference" tests/DebuggerNetMcp.Tests/DebuggerNetMcp.Tests.csproj
    # Must reference Core

    # Verify build succeeds
    dotnet build DebuggerNetMcp.sln
    # Must exit 0 with "Build succeeded"
    ```
  </verify>
  <done>
    `dotnet build DebuggerNetMcp.sln` exits 0. `dotnet sln list` shows exactly 3 projects. `global.json` exists with SDK 10.0.0. Both Mcp and Tests have ProjectReference to Core.
  </done>
</task>

</tasks>

<verification>
End-to-end verification for this plan:

```bash
cd /home/eduardo/Projects/DebuggerNetMcp

# 1. Python artifacts gone
find . -name "*.py" -not -path "./.git/*" -not -path "./.planning/*"
# Expected: empty

# 2. Solution builds
dotnet build DebuggerNetMcp.sln
# Expected: Build succeeded, 0 Error(s)

# 3. SDK pinned
cat global.json | python3 -c "import sys,json; d=json.load(sys.stdin); assert d['sdk']['version']=='10.0.0'"
# Expected: no assertion error

# 4. Project count
dotnet sln list | grep -c ".csproj"
# Expected: 3
```
</verification>

<success_criteria>
- All Python source files deleted from the repository
- `dotnet build DebuggerNetMcp.sln` completes without errors
- `dotnet sln list` shows exactly 3 projects: Core, Mcp, Tests
- `global.json` pins SDK `10.0.0` with `rollForward: latestMinor`
- Mcp → Core and Tests → Core ProjectReferences are wired
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md` following @/home/eduardo/.claude/get-shit-done/templates/summary.md
</output>
